<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BaskinSales - AIë¶„ì„</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .header h1 {
            color: #333;
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .nav-menu {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }

        .nav-btn {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1em;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }

        .nav-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .nav-btn.active {
            background: linear-gradient(45deg, #28a745, #20c997);
        }

        .logout-btn {
            background: #dc3545;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.9em;
            transition: all 0.3s ease;
            float: right;
        }

        .logout-btn:hover {
            background: #c82333;
        }

        .content-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
        }

        .card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .card h3 {
            color: #333;
            margin-bottom: 20px;
            font-size: 1.3em;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: #555;
            font-weight: 500;
        }

        .form-group input,
        .form-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1em;
            transition: border-color 0.3s ease;
        }

        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: #667eea;
        }

        .btn {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            transition: all 0.3s ease;
            margin-right: 10px;
            margin-bottom: 10px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .btn-success {
            background: linear-gradient(45deg, #28a745, #20c997);
        }

        .btn-warning {
            background: linear-gradient(45deg, #ffc107, #ff9800);
        }

        .btn-info {
            background: linear-gradient(45deg, #17a2b8, #138496);
        }

        .results {
            margin-top: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid #667eea;
        }

        .prediction-card {
            background: linear-gradient(45deg, #e3f2fd, #bbdefb);
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
            border-left: 4px solid #2196f3;
        }

        .recommendation-card {
            background: linear-gradient(45deg, #f3e5f5, #e1bee7);
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
            border-left: 4px solid #9c27b0;
        }

        .ai-loading {
            text-align: center;
            padding: 20px;
            color: #666;
        }

        .ai-loading::after {
            content: '';
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-left: 10px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .chart-container {
            margin-top: 20px;
        }

        canvas {
            max-width: 100%;
            height: auto;
        }

        .weather-info {
            background: linear-gradient(45deg, #e8f5e8, #c8e6c9);
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            border-left: 4px solid #4caf50;
        }

        @media (max-width: 768px) {
            .content-grid {
                grid-template-columns: 1fr;
            }
            
            .nav-menu {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ¤– AIë¶„ì„</h1>
            <div class="nav-menu">
                <a href="dashboard.html" class="nav-btn">ëŒ€ì‹œë³´ë“œ</a>
                <a href="sales.html" class="nav-btn">ë§¤ì¶œê´€ë¦¬</a>
                <a href="inventory.html" class="nav-btn">ì¬ê³ ê´€ë¦¬</a>
                <a href="ai-analysis.html" class="nav-btn active">AIë¶„ì„</a>
            </div>
            <button class="logout-btn" onclick="logout()">ë¡œê·¸ì•„ì›ƒ</button>
        </div>

        <div class="content-grid">
            <div class="card">
                <h3>ğŸ“ˆ íŒë§¤ ì˜ˆì¸¡</h3>
                <div class="form-group">
                    <label>ìƒí’ˆ ID:</label>
                    <input type="text" id="predict-product-id" placeholder="ì˜ˆ: P001">
                </div>
                <div class="form-group">
                    <label>ì˜ˆì¸¡ ê¸°ê°„:</label>
                    <select id="predict-period">
                        <option value="1">1ì£¼ì¼</option>
                        <option value="2">2ì£¼ì¼</option>
                        <option value="4">4ì£¼ì¼</option>
                    </select>
                </div>
                <button class="btn btn-success" onclick="predictSales()">íŒë§¤ ì˜ˆì¸¡</button>
                <div id="prediction-result" class="results"></div>
            </div>

            <div class="card">
                <h3>ğŸ›’ ë°œì£¼ ì¶”ì²œ</h3>
                <div class="form-group">
                    <label>ìƒí’ˆ ID:</label>
                    <input type="text" id="order-product-id" placeholder="ì˜ˆ: P001">
                </div>
                <div class="form-group">
                    <label>ê³ ë ¤ ê¸°ê°„:</label>
                    <select id="order-period">
                        <option value="7">1ì£¼ì¼</option>
                        <option value="14">2ì£¼ì¼</option>
                        <option value="30">1ê°œì›”</option>
                    </select>
                </div>
                <button class="btn btn-warning" onclick="recommendOrder()">ë°œì£¼ ìˆ˜ëŸ‰ ì¶”ì²œ</button>
                <div id="order-result" class="results"></div>
            </div>
        </div>

        <div class="card" style="margin-top: 30px;">
            <h3>ğŸŒ¤ï¸ ë‚ ì”¨ ê¸°ë°˜ ìƒí’ˆ ì¶”ì²œ</h3>
            <div class="form-group">
                <label>ë‚ ì”¨ ì¡°ê±´:</label>
                <select id="weather-condition">
                    <option value="sunny">ë§‘ìŒ</option>
                    <option value="cloudy">íë¦¼</option>
                    <option value="rainy">ë¹„</option>
                    <option value="snowy">ëˆˆ</option>
                    <option value="hot">ë”ì›€</option>
                    <option value="cold">ì¶”ì›€</option>
                </select>
            </div>
            <button class="btn btn-info" onclick="recommendProducts()">ìƒí’ˆ ì¶”ì²œ</button>
            <div id="weather-result" class="results"></div>
        </div>

        <div class="card" style="margin-top: 30px;">
            <h3>ğŸ“Š AI ë¶„ì„ ì°¨íŠ¸</h3>
            <div class="chart-container">
                <canvas id="aiChart" width="800" height="400"></canvas>
            </div>
        </div>

        <div class="card" style="margin-top: 30px;">
            <h3>ğŸ’¡ AI ì¸ì‚¬ì´íŠ¸</h3>
            <div id="ai-insights"></div>
        </div>
    </div>

    <script>
        // ë¡œê·¸ì¸ ìƒíƒœ í™•ì¸
        function checkAuth() {
            const token = localStorage.getItem('authToken');
            if (!token) {
                window.location.href = 'login.html';
            }
        }

        // ë¡œê·¸ì•„ì›ƒ
        function logout() {
            localStorage.removeItem('authToken');
            localStorage.removeItem('username');
            window.location.href = 'login.html';
        }

        // íŒë§¤ ì˜ˆì¸¡
        async function predictSales() {
            const productId = document.getElementById('predict-product-id').value;
            const period = document.getElementById('predict-period').value;
            
            if (!productId) {
                alert('ìƒí’ˆ IDë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }

            const resultDiv = document.getElementById('prediction-result');
            resultDiv.innerHTML = '<div class="ai-loading">AIê°€ íŒë§¤ë¥¼ ì˜ˆì¸¡í•˜ê³  ìˆìŠµë‹ˆë‹¤...</div>';

            try {
                // ì‹¤ì œ API í˜¸ì¶œ ëŒ€ì‹  2ì´ˆ í›„ ê²°ê³¼ í‘œì‹œ
                setTimeout(() => {
                    const mockPrediction = {
                        productId: productId,
                        productName: 'ì•„ëª¬ë“œë´‰ë´‰',
                        period: period,
                        predictions: [
                            { week: 1, predictedSales: 125, confidence: 85 },
                            { week: 2, predictedSales: 138, confidence: 82 },
                            { week: 3, predictedSales: 142, confidence: 78 },
                            { week: 4, predictedSales: 135, confidence: 75 }
                        ],
                        factors: ['ê³„ì ˆì  ìš”ì¸', 'ì´ì „ íŒë§¤ íŒ¨í„´', 'ë§ˆì¼€íŒ… í™œë™', 'ê²½ìŸì‚¬ ë™í–¥']
                    };

                    displaySalesPrediction(mockPrediction);
                }, 2000);
                
            } catch (error) {
                console.error('íŒë§¤ ì˜ˆì¸¡ ì‹¤íŒ¨:', error);
                resultDiv.innerHTML = '<p style="color: #dc3545;">íŒë§¤ ì˜ˆì¸¡ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.</p>';
            }
        }

        // íŒë§¤ ì˜ˆì¸¡ ê²°ê³¼ í‘œì‹œ
        function displaySalesPrediction(prediction) {
            const resultDiv = document.getElementById('prediction-result');
            let html = `
                <div class="prediction-card">
                    <h4>ğŸ“ˆ ${prediction.productName} (${prediction.productId}) íŒë§¤ ì˜ˆì¸¡</h4>
                    <div style="margin: 15px 0;">
                        <strong>ì˜ˆì¸¡ ê¸°ê°„:</strong> ${prediction.period}ì£¼<br>
                        <strong>ê³ ë ¤ ìš”ì¸:</strong> ${prediction.factors.join(', ')}
                    </div>
                    <table style="width: 100%; border-collapse: collapse; margin-top: 15px;">
                        <thead>
                            <tr style="background: #f8f9fa;">
                                <th style="padding: 10px; text-align: left;">ì£¼ì°¨</th>
                                <th style="padding: 10px; text-align: left;">ì˜ˆì¸¡ íŒë§¤ëŸ‰</th>
                                <th style="padding: 10px; text-align: left;">ì‹ ë¢°ë„</th>
                            </tr>
                        </thead>
                        <tbody>
            `;

            prediction.predictions.forEach(pred => {
                const confidenceColor = pred.confidence >= 80 ? '#28a745' : pred.confidence >= 60 ? '#ffc107' : '#dc3545';
                html += `
                    <tr>
                        <td style="padding: 10px;">${pred.week}ì£¼ì°¨</td>
                        <td style="padding: 10px; font-weight: bold;">${pred.predictedSales}ê°œ</td>
                        <td style="padding: 10px; color: ${confidenceColor};">${pred.confidence}%</td>
                    </tr>
                `;
            });

            html += '</tbody></table></div>';
            resultDiv.innerHTML = html;
        }

        // ë°œì£¼ ì¶”ì²œ
        async function recommendOrder() {
            const productId = document.getElementById('order-product-id').value;
            const period = document.getElementById('order-period').value;
            
            if (!productId) {
                alert('ìƒí’ˆ IDë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }

            const resultDiv = document.getElementById('order-result');
            resultDiv.innerHTML = '<div class="ai-loading">AIê°€ ë°œì£¼ ìˆ˜ëŸ‰ì„ ë¶„ì„í•˜ê³  ìˆìŠµë‹ˆë‹¤...</div>';

            try {
                setTimeout(() => {
                    const mockRecommendation = {
                        productId: productId,
                        productName: 'ë¯¼íŠ¸ì´ˆì½”',
                        currentStock: 80,
                        minStock: 50,
                        avgDailySales: 12,
                        recommendedOrder: 150,
                        reasoning: [
                            'ì¼í‰ê·  íŒë§¤ëŸ‰: 12ê°œ',
                            'ì•ˆì „ ì¬ê³ : 50ê°œ',
                            'ë°°ì†¡ ì†Œìš”ì¼: 3ì¼',
                            'ì˜ˆìƒ ìˆ˜ìš” ì¦ê°€: 15%'
                        ],
                        urgency: 'normal'
                    };

                    displayOrderRecommendation(mockRecommendation);
                }, 2000);
                
            } catch (error) {
                console.error('ë°œì£¼ ì¶”ì²œ ì‹¤íŒ¨:', error);
                resultDiv.innerHTML = '<p style="color: #dc3545;">ë°œì£¼ ì¶”ì²œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.</p>';
            }
        }

        // ë°œì£¼ ì¶”ì²œ ê²°ê³¼ í‘œì‹œ
        function displayOrderRecommendation(recommendation) {
            const resultDiv = document.getElementById('order-result');
            const urgencyColor = recommendation.urgency === 'urgent' ? '#dc3545' : recommendation.urgency === 'high' ? '#ffc107' : '#28a745';
            const urgencyText = recommendation.urgency === 'urgent' ? 'ê¸´ê¸‰' : recommendation.urgency === 'high' ? 'ë†’ìŒ' : 'ë³´í†µ';
            
            let html = `
                <div class="recommendation-card">
                    <h4>ğŸ›’ ${recommendation.productName} (${recommendation.productId}) ë°œì£¼ ì¶”ì²œ</h4>
                    <div style="margin: 15px 0;">
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                            <div style="background: #e3f2fd; padding: 15px; border-radius: 8px; text-align: center;">
                                <div style="font-size: 1.5em; font-weight: bold; color: #1976d2;">${recommendation.currentStock}ê°œ</div>
                                <div style="color: #666;">í˜„ì¬ ì¬ê³ </div>
                            </div>
                            <div style="background: #f3e5f5; padding: 15px; border-radius: 8px; text-align: center;">
                                <div style="font-size: 1.5em; font-weight: bold; color: #7b1fa2;">${recommendation.avgDailySales}ê°œ</div>
                                <div style="color: #666;">ì¼í‰ê·  íŒë§¤</div>
                            </div>
                            <div style="background: #e8f5e8; padding: 15px; border-radius: 8px; text-align: center;">
                                <div style="font-size: 1.5em; font-weight: bold; color: #388e3c;">${recommendation.recommendedOrder}ê°œ</div>
                                <div style="color: #666;">ì¶”ì²œ ë°œì£¼ëŸ‰</div>
                            </div>
                        </div>
                        <div style="margin-top: 20px;">
                            <strong>ìš°ì„ ìˆœìœ„:</strong> <span style="color: ${urgencyColor}; font-weight: bold;">${urgencyText}</span>
                        </div>
                        <div style="margin-top: 15px;">
                            <strong>ì¶”ì²œ ê·¼ê±°:</strong>
                            <ul style="margin-top: 10px; padding-left: 20px;">
            `;

            recommendation.reasoning.forEach(reason => {
                html += `<li>${reason}</li>`;
            });

            html += '</ul></div></div></div>';
            resultDiv.innerHTML = html;
        }

        // ë‚ ì”¨ ê¸°ë°˜ ìƒí’ˆ ì¶”ì²œ
        async function recommendProducts() {
            const weather = document.getElementById('weather-condition').value;
            
            const resultDiv = document.getElementById('weather-result');
            resultDiv.innerHTML = '<div class="ai-loading">AIê°€ ë‚ ì”¨ë¥¼ ë¶„ì„í•˜ì—¬ ìƒí’ˆì„ ì¶”ì²œí•˜ê³  ìˆìŠµë‹ˆë‹¤...</div>';

            try {
                setTimeout(() => {
                    const mockWeatherRecommendations = {
                        sunny: [
                            { name: 'ì•„ëª¬ë“œë´‰ë´‰', reason: 'ë§‘ì€ ë‚ ì”¨ì— ì¸ê¸°', confidence: 92 },
                            { name: 'ë”¸ê¸°', reason: 'ìƒí¼í•œ ë§›ìœ¼ë¡œ ì¸ê¸°', confidence: 88 },
                            { name: 'ë°”ë‹ë¼', reason: 'í´ë˜ì‹í•œ ì„ íƒ', confidence: 85 }
                        ],
                        rainy: [
                            { name: 'ë”°ëœ»í•œ ìŒë£Œ', reason: 'ë¹„ ì˜¤ëŠ” ë‚  ì¸ê¸°', confidence: 95 },
                            { name: 'ì´ˆì½”', reason: 'í¸ì•ˆí•œ ë§›', confidence: 90 },
                            { name: 'ì¹´ë¼ë©œ', reason: 'ë‹¬ì½¤í•œ ìœ„ë¡œ', confidence: 87 }
                        ],
                        hot: [
                            { name: 'ë¯¼íŠ¸ì´ˆì½”', reason: 'ì‹œì›í•œ ë§›', confidence: 94 },
                            { name: 'ë”¸ê¸°', reason: 'ìƒí¼í•œ ë§›', confidence: 91 },
                            { name: 'ë ˆëª¬', reason: 'ìƒì¾Œí•œ ë§›', confidence: 89 }
                        ],
                        cold: [
                            { name: 'ë”°ëœ»í•œ ìŒë£Œ', reason: 'ì¶”ìš´ ë‚  ì¸ê¸°', confidence: 96 },
                            { name: 'ì¹´ë¼ë©œ', reason: 'ë‹¬ì½¤í•œ ìœ„ë¡œ', confidence: 93 },
                            { name: 'ë°”ë‹ë¼', reason: 'í´ë˜ì‹í•œ ì„ íƒ', confidence: 90 }
                        ]
                    };

                    const recommendations = mockWeatherRecommendations[weather] || mockWeatherRecommendations.sunny;
                    displayWeatherRecommendations(recommendations, weather);
                }, 2000);
                
            } catch (error) {
                console.error('ë‚ ì”¨ ê¸°ë°˜ ì¶”ì²œ ì‹¤íŒ¨:', error);
                resultDiv.innerHTML = '<p style="color: #dc3545;">ë‚ ì”¨ ê¸°ë°˜ ì¶”ì²œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.</p>';
            }
        }

        // ë‚ ì”¨ ê¸°ë°˜ ì¶”ì²œ ê²°ê³¼ í‘œì‹œ
        function displayWeatherRecommendations(recommendations, weather) {
            const resultDiv = document.getElementById('weather-result');
            const weatherText = {
                sunny: 'ë§‘ìŒ',
                cloudy: 'íë¦¼',
                rainy: 'ë¹„',
                snowy: 'ëˆˆ',
                hot: 'ë”ì›€',
                cold: 'ì¶”ì›€'
            };

            let html = `
                <div class="weather-info">
                    <h4>ğŸŒ¤ï¸ ${weatherText[weather]} ë‚ ì”¨ ìƒí’ˆ ì¶”ì²œ</h4>
                    <div style="margin-top: 15px;">
            `;

            recommendations.forEach((rec, index) => {
                html += `
                    <div style="display: flex; justify-content: space-between; align-items: center; padding: 15px; margin: 10px 0; background: #f8f9fa; border-radius: 8px; border-left: 4px solid #4caf50;">
                        <div style="display: flex; align-items: center;">
                            <span style="font-weight: bold; color: #4caf50; margin-right: 15px; font-size: 1.2em;">#${index + 1}</span>
                            <div>
                                <div style="font-size: 1.1em; font-weight: 500;">${rec.name}</div>
                                <div style="font-size: 0.9em; color: #666;">${rec.reason}</div>
                            </div>
                        </div>
                        <div style="text-align: right;">
                            <div style="font-weight: bold; color: #28a745;">${rec.confidence}%</div>
                            <div style="font-size: 0.9em; color: #666;">ì¶”ì²œë„</div>
                        </div>
                    </div>
                `;
            });

            html += '</div></div>';
            resultDiv.innerHTML = html;
        }

        // AI ì°¨íŠ¸ ê·¸ë¦¬ê¸°
        function drawAIChart() {
            const canvas = document.getElementById('aiChart');
            const ctx = canvas.getContext('2d');
            
            canvas.width = canvas.offsetWidth;
            canvas.height = 400;

            const data = {
                labels: ['1ì£¼ì°¨', '2ì£¼ì°¨', '3ì£¼ì°¨', '4ì£¼ì°¨'],
                actual: [120, 135, 128, 142],
                predicted: [125, 138, 142, 135]
            };
            
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // ê·¸ë¦¬ë“œ ê·¸ë¦¬ê¸°
            ctx.strokeStyle = '#e0e0e0';
            ctx.lineWidth = 1;
            for (let i = 0; i <= 5; i++) {
                const y = (canvas.height - 60) * (i / 5) + 30;
                ctx.beginPath();
                ctx.moveTo(80, y);
                ctx.lineTo(canvas.width - 20, y);
                ctx.stroke();
            }

            const maxValue = Math.max(...data.actual, ...data.predicted);
            
            // ì‹¤ì œ ë°ì´í„° ë¼ì¸
            ctx.strokeStyle = '#667eea';
            ctx.lineWidth = 3;
            ctx.beginPath();
            
            data.actual.forEach((value, index) => {
                const x = 80 + (canvas.width - 100) * (index / (data.actual.length - 1));
                const y = canvas.height - 30 - (canvas.height - 60) * (value / maxValue);
                
                if (index === 0) {
                    ctx.moveTo(x, y);
                } else {
                    ctx.lineTo(x, y);
                }
            });
            ctx.stroke();

            // ì˜ˆì¸¡ ë°ì´í„° ë¼ì¸
            ctx.strokeStyle = '#28a745';
            ctx.lineWidth = 3;
            ctx.setLineDash([5, 5]);
            ctx.beginPath();
            
            data.predicted.forEach((value, index) => {
                const x = 80 + (canvas.width - 100) * (index / (data.predicted.length - 1));
                const y = canvas.height - 30 - (canvas.height - 60) * (value / maxValue);
                
                if (index === 0) {
                    ctx.moveTo(x, y);
                } else {
                    ctx.lineTo(x, y);
                }
            });
            ctx.stroke();
            ctx.setLineDash([]);

            // ë²”ë¡€
            ctx.fillStyle = '#333';
            ctx.font = '14px Arial';
            ctx.fillText('ì‹¤ì œ íŒë§¤ëŸ‰', 80, 20);
            ctx.fillText('AI ì˜ˆì¸¡', 200, 20);
        }

        // AI ì¸ì‚¬ì´íŠ¸ ë¡œë“œ
        async function loadAIInsights() {
            try {
                const mockInsights = [
                    {
                        type: 'trend',
                        title: 'ğŸ“ˆ íŒë§¤ íŠ¸ë Œë“œ ë¶„ì„',
                        content: 'ì•„ëª¬ë“œë´‰ë´‰ì˜ íŒë§¤ëŸ‰ì´ ì§€ë‚œ ì£¼ ëŒ€ë¹„ 15% ì¦ê°€í–ˆìŠµë‹ˆë‹¤. ì£¼ë§ íŒë§¤ëŸ‰ì´ íŠ¹íˆ ë†’ì€ ê²ƒìœ¼ë¡œ ë‚˜íƒ€ë‚¬ìŠµë‹ˆë‹¤.'
                    },
                    {
                        type: 'recommendation',
                        title: 'ğŸ’¡ ìµœì í™” ì œì•ˆ',
                        content: 'ë¯¼íŠ¸ì´ˆì½”ì˜ ì¬ê³ ê°€ ë¶€ì¡±í•  ê²ƒìœ¼ë¡œ ì˜ˆìƒë©ë‹ˆë‹¤. ë‹¤ìŒ ì£¼ ë°œì£¼ë¥¼ ê¶Œì¥í•©ë‹ˆë‹¤.'
                    },
                    {
                        type: 'weather',
                        title: 'ğŸŒ¤ï¸ ë‚ ì”¨ ì˜í–¥ ë¶„ì„',
                        content: 'ë§‘ì€ ë‚ ì”¨ì—ëŠ” ë”¸ê¸° ì•„ì´ìŠ¤í¬ë¦¼ íŒë§¤ê°€ 25% ì¦ê°€í•˜ëŠ” ê²ƒìœ¼ë¡œ ë¶„ì„ë˜ì—ˆìŠµë‹ˆë‹¤.'
                    }
                ];

                displayAIInsights(mockInsights);
                
            } catch (error) {
                console.error('AI ì¸ì‚¬ì´íŠ¸ ë¡œë“œ ì‹¤íŒ¨:', error);
            }
        }

        // AI ì¸ì‚¬ì´íŠ¸ í‘œì‹œ
        function displayAIInsights(insights) {
            const container = document.getElementById('ai-insights');
            
            insights.forEach(insight => {
                const insightDiv = document.createElement('div');
                insightDiv.style.cssText = `
                    background: linear-gradient(45deg, #f8f9fa, #e9ecef);
                    border-radius: 10px;
                    padding: 20px;
                    margin: 15px 0;
                    border-left: 4px solid #667eea;
                `;
                
                insightDiv.innerHTML = `
                    <h4 style="color: #333; margin-bottom: 10px;">${insight.title}</h4>
                    <p style="color: #666; line-height: 1.6;">${insight.content}</p>
                `;
                
                container.appendChild(insightDiv);
            });
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì‹¤í–‰
        window.onload = function() {
            checkAuth();
            drawAIChart();
            loadAIInsights();
        };
    </script>
</body>
</html> 